{"version":3,"sources":["App.js","index.js"],"names":["Person","person","name","number","Persons","persons","map","p","Error","error","border-color","App","useState","setPersons","newName","setNewName","newNo","setNewNo","query","setNewQuery","setError","refreshPersons","axios","get","then","res","data","catch","err","console","log","useEffect","value","onChange","e","target","onSubmit","preventDefault","post","response","type","filter","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"gKAGMA,EAAS,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAChB,OAAQ,8BAAIA,EAAOC,KAAX,IAAkBD,EAAOE,WAG7BC,EAAU,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACjB,OACE,8BACGA,EAAQC,KAAI,SAACC,GAAD,OAAQ,cAAC,EAAD,CAAqBN,OAAQM,GAAhBA,EAAEL,YAKpCM,EAAQ,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACf,OAAIA,EAEA,qBAAKC,eAAa,MAAlB,SAAyBD,IAGpB,MAyEIE,EArEH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRP,EADQ,KACCQ,EADD,OAEgBD,mBAAS,IAFzB,mBAERE,EAFQ,KAECC,EAFD,OAGYH,mBAAS,IAHrB,mBAGRI,EAHQ,KAGDC,EAHC,OAIeL,mBAAS,IAJxB,mBAIRM,EAJQ,KAIDC,EAJC,OAKYP,mBAAS,IALrB,mBAKRH,EALQ,KAKDW,EALC,KAgCVC,EAAiB,WACrBC,IACGC,IAAI,gBACJC,MAAK,SAAAC,GAAG,OAAIZ,EAAWY,EAAIC,SAC3BC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAI,qBAAuBF,OAQrD,OALAG,qBAAU,WACRV,MACC,IAID,gCACE,2CACA,cAAC,EAAD,CAAOZ,MAAOA,IACd,qDACoB,uBAAOuB,MAAOd,EAAOe,SArBnB,SAACC,GACzBf,EAAYe,EAAEC,OAAOH,aAsBnB,0CAAalB,KACb,uBAAMsB,SA7CM,SAACF,GACfA,EAAEG,iBACFf,IACGgB,KAAK,eAAgB,CAAEpC,KAAMY,EAASX,OAAQa,IAC9CQ,MAAK,SAACC,GACLI,QAAQC,IAAI,QAASL,GACrBJ,OAEDM,OAAM,SAAAC,GAAG,OAAIR,EAASQ,EAAIW,SAASb,KAAKjB,WAqCzC,UACE,yCACQ,uBAAOuB,MAAOlB,EAASmB,SAnCZ,SAACC,GACxBL,QAAQC,IAAII,EAAEC,OAAOH,OACrBjB,EAAWmB,EAAEC,OAAOH,aAmChB,2CACU,uBAAOA,MAAOhB,EAAOiB,SAjCd,SAACC,GACtBjB,EAASiB,EAAEC,OAAOH,aAkCd,8BACE,wBAAQQ,KAAK,SAAb,sBAGJ,yCACA,cAAC,EAAD,CAASnC,QAASA,EAAQoC,QAAO,SAAClC,GAAD,OAAOA,EAAEL,KAAKwC,cAAcC,SAASzB,EAAMwB,wBCtFlFE,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.7aaf7a80.chunk.js","sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\n\nconst Person = ({ person }) => {\n  return (<p>{person.name} {person.number}</p>)\n}\n\nconst Persons = ({ persons }) => {\n  return (\n    <div>\n      {persons.map((p) => (<Person key={p.name} person={p}/>))}\n    </div>\n  )\n}\n\nconst Error = ({ error }) => {\n  if (error) {\n    return (\n      <div border-color='red'>{error}</div>\n    )\n  } else {\n    return null\n  }\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNo, setNewNo ] = useState('')\n  const [ query, setNewQuery ] = useState('')\n  const [ error, setError ] = useState('')\n\n  const addName = (e) => {\n    e.preventDefault()\n    axios\n      .post('/api/persons', { name: newName, number: newNo })\n      .then((res) => {\n        console.log(\"RES: \", res)\n        refreshPersons()\n      })\n      .catch(err => setError(err.response.data.error))\n\n  }\n\n  const handleNameChange = (e) => {\n    console.log(e.target.value)\n    setNewName(e.target.value)\n  }\n\n  const handleNoChange = (e) => {\n    setNewNo(e.target.value)\n  }\n\n  const handleQueryChange = (e) => {\n    setNewQuery(e.target.value)\n  }\n\n  const refreshPersons = () => {\n    axios\n      .get('/api/persons')\n      .then(res => setPersons(res.data))\n      .catch(err => console.log(\"ERROR IN REFRESH: \" + err))\n  }\n\n  useEffect(() => {\n    refreshPersons()\n  }, [])\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Error error={error}/>\n      <div>\n        filter shown with <input value={query} onChange={handleQueryChange}/>\n      </div>\n      <div>debug: {newName}</div>\n      <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNo} onChange={handleNoChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Persons persons={persons.filter((p) => p.name.toLowerCase().includes(query.toLowerCase()))} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}